Adding items to the App menu <!--more-->

### Create new menu:
```swift
var menu: NSMenu = NSMenu()
var menuItem : NSMenuItem = NSMenuItem()

let fileMenuItem:NSMenuItem = NSMenuItem.init(title: "File", action: ObjectiveC.Selector("testingAction:"), keyEquivalent: "")
fileMenuItem.title = "File"
fileMenuItem.action = ObjectiveC.Selector("testingAction:")
fileMenuItem.keyEquivalent = ""

//NSApp.mainMenu!.addItem(fileMenuItem)
//NSApp.mainMenu!.setSubmenu()//replaces an item with another
//the above is a  

func testingAction(sender: AnyObject){

}
```

### Reset App menu:
```swift
NSApp.mainMenu?.items.enumerated().forEach {
   if $0.offset > 2 { NSApp.mainMenu?.removeItem($0.element) }
}
```

### Useful tip:

```swift
import Cocoa

extension NSMenuItem {
    /**
     * Makes checking an NSMenuItem check state much more convenient
     */
    var isChecked:Bool {get{return self.state == .on} set{self.state = newValue ?  .on : .off}}
}
```


### Custom menu item:

```swift
import Cocoa

class CustomMenuItem:NSMenuItem{
    init(_ title:String = "", _ keyEquivalent:String = "") {
        super.init(title: title, action:#selector(self.onSelect), keyEquivalent: keyEquivalent)
        target = self/*target specifies where the selector should work, in this case in this class scope*/
        self.isEnabled = true
    }
    @objc func onSelect(event:AnyObject) {
        Swift.print("override in superClass")
    }
   /**
    * Return true if you want to enable the menu item, false will disable it
    * NOTE: add assertion logic here
    * UPDATE: swift 4.2 removed validateMenuItem(_ menuItem:NSMenuItem) -> Bool
    */
   public func validateUserInterfaceItem(_ item: NSValidatedUserInterfaceItem) -> Bool {
      //override in subclass (optional)
      return true
   }

    required init(coder decoder:NSCoder) {fatalError("init(coder:) has not been implemented")}
}
```
